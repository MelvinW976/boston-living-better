<!doctype html>
<html lang="en">
<head>
    <title>Boston Living Better</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/assets/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="crossorigin=""/>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
</head>
<body>
    <nav class="navbar navbar-dark bg-dark" >
        <div class="container-fluid">
          <a class="navbar-brand" href="/">
            <img src="static/images/logo2.png" alt="" width="50" height="50" class="d-inline-block align-text-top" style="margin-left: 25px;">
            <h3 class="d-inline-block align-text-top" style="font-size:32px;margin-left: 25px; margin-top: 5px;">Boston Living Better</h3> 
          </a>
        </div>
      </nav>
      <div class="p-3 mb-2 bg-light text-dark" style="height:110px;">
        <div class="row" style="margin: 20px;margin-left: 25px;">
          <div class="col-md-1" style="padding-top: 5px;">Concern 1:</div>
          <div class="col-md-2" style="padding-left: 5px; padding-right: 30px; border-right: 1px solid rgb(197, 186, 186);">
            <select id="concern1" class="form-control selectpicker" data-live-search="true">
              {% for category in category_list %}
                <option data-tokens={{category}}>{{category}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-md-1" style="padding-top: 5px; padding-left: 5px; margin-left: 30px; margin-right:5px;">Concern 2:</div>
          <div class="col-md-2" style="padding-left: 5px; padding-right: 30px; border-right: 1px solid rgb(197, 186, 186);" >
            <select id="concern2" class="form-control selectpicker" data-live-search="true">
              {% for category in category_list %}
                <option data-tokens={{category}}>{{category}}</option>
              {% endfor %}
            </select>
          </div>          
          <!-- <div class="col-md-1" style="width: 150px; padding-left: 35px; padding-top: 5px;  margin-left:5px; ">Stay Period</div> -->
          <div class="col-md-1 d-flex" style="padding-top: 5px; margin-left: 35px; margin-right: 80px;">
            <span class="font-weight-bold" >0</span>
            <form class="range-field" style="width: 150px; padding-top: 2px;padding-left: 10px;padding-right: 10px;">
              <input id="number" class="border-0" type="range" min="0" max="6" />
            </form>
            <span class="font-weight-bold">6</span>
          </div>
          <select id="period" class="form-select col-md-1" aria-label="Default select example" style="height: 40px; width: 100px; padding-top: 5px;">
            <option selected value="month">Month</option>
            <option value="year">Year</option>
          </select>
          <div class="col-md-1"></div>
          <div class="col-md-1">
            <button type="button" class="btn btn-primary" style="width: 150px;" onclick="get_suggestion()">Get Suggestion</button>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="row">
            <div class="col-sm-4 p-3 "  style="margin-top: 15px; border: 2px solid rgb(165, 159, 159);">
                <div class="side-info-content" style="padding: 10px;">
                    <h3 style="font-family: Helvetica, Arial, Lucida Grande, sans-serif;font-size: 20px;padding-bottom: 8px; border-bottom: 1px solid rgb(197, 186, 186);">Recommendation</h3>
                </div>
            </div>
            <div class="col-sm-1"></div>
            <div class="col-sm-7" >
                <div id="map" class="w-100" style="margin-top: 15px; height: 520px;"></div>
            </div>
          </div>
        <div class="side-info">

    </div>
    

    <script>
        var map = L.map('map').setView([42.361145, -71.057083], 16);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'}).addTo(map);
        {{markers|safe}}

        function get_suggestion(){
          let concern1= document.getElementById('concern1').value
          let concern2= document.getElementById('concern2').value
          let time= document.getElementById('number').value
          let period= document.getElementById('period').value
          if(period == 'year'){
            time = 12 * time // all the time transform to months
          }
        }
    </script>
</body>
</html>